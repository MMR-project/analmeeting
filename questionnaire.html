<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Meeting Evaluation System</title>
<link rel="stylesheet" href="meetingevaluationsystem.css">
<style>
</style>
<script>

var averagerange01;
var averagerange02;
var averagerange03;
var averagerange04;
var sumrange01 = 0;
var sumrange02 = 0;
var sumrange03 = 0;
var sumrange04 = 0;
var personcount = 0;

var data = location.href.split("?")[1];
var text = data.split("=")[1];
var decodetext = decodeURIComponent(text);
var result = decodetext.split(",");
var scoreMovie=result[0];
var scoreAudio=result[1];

window.onload = function(){
        averagerange01, averagerange02, averagerange03, averagerange04 = 0;
}

function disp(){
	if(window.confirm('全員入力しましたか？')){
		sumrange01 = sumrange01 + parseInt(range01.value);
		sumrange02 = sumrange02 + parseInt(range02.value);
		sumrange03 = sumrange03 + parseInt(range03.value);
		sumrange04 = sumrange04 + parseInt(range04.value);
		personcount++;
		averagerange01 = Math.round(sumrange01 / personcount);
		averagerange02 = Math.round(sumrange02 / personcount);
		averagerange03 = Math.round(sumrange03 / personcount);
		averagerange04 = Math.round(sumrange04 / personcount);
		range01.value = 50;
		range02.value = 50;
		range03.value = 50;
		range04.value = 50;
		location.href = "result.html?data="+encodeURIComponent(averagerange01+","+averagerange02+","+averagerange03+","+averagerange04+","+scoreMovie+","+scoreAudio);
	}else{
		sumrange01 = sumrange01 + parseInt(range01.value);
		sumrange02 = sumrange02 + parseInt(range02.value);
		sumrange03 = sumrange03 + parseInt(range03.value);
		sumrange04 = sumrange04 + parseInt(range04.value);
		personcount++;
		range01.value = 50;
		range02.value = 50;
		range03.value = 50;
		range04.value = 50;
	}
}
</script>
</head>
<body>
<p>参加する前に持っていたものとは違うアイデアがでた</p>
-<input id="range01" type="range" min="0" max="100" step="1" value="50"/>+
<p>意見を言う機会があった</p>
-<input id="range02" type="range" min="0" max="100" step="1" value="50"/>+
<p>深い議論ができた</p>
-<input id="range03" type="range" min="0" max="100" step="1" value="50"/>+
<p>本音で意見が言えた</p>
-<input id="range04" type="range" min="0" max="100" step="1" value="50"/>+
<p align=center><input type="button" value="入力終了" onClick="disp()"></p>
</body>
</html>